---
title: 游戏推环境方案
date: 2017-05-04T09:57:00.000Z
tags:

categories:

---

游戏推环境方案


<!-- MORE -->

# 所需
## 开发测试环境
- Git、SVN
- Nginx、MySQL、PHP、Redis
- 代码推送
- VPN

后续：
- 代码质量检测服务 - SonarQube
- 生产环境接口稳定检测 - Nagios


## 生产环境
- Nginx、MySQL、PHP、Redis、Python
- 负载均衡、MySQL高可用
- 计划任务服务、Redis-PHP队列服务
- 静态资源服务
- APP推送服务
- 短信服务
- ***推荐服务***

后续：
- CMS
- 日志服务

# 方案
## 开发测试环境
### 阿里云服务器
#### 成本：
- Haswell 2.5G，1Mb宽带，8G内存，1T硬盘每年大概需要7102.26
- 自行搭建Git等服务

#### 优点：
- 运维成本低
- 稳定、备份简单

#### 劣势：
- 速度比局域网服务器略慢

### 自买局域网服务器
#### 成本：
- 至强 3.3G， 局域网， 8G内存，1T硬盘，每台需要4999，需两台

#### 优点：
- 价格低
- 局域网速度快

#### 劣势：
- 运维成本高
- 备份复杂、不可靠
-




## 生产环境




# 采用
## 开发测试环境  
### 阿里云服务器

- 开发服务器  
包括Nginx、PHP、MySQL、Rsync、Redis等稳定开发环境
>计费方式：包年包月  
地域：华北 3（华北 3 可用区 A）实例  
规格：2核 4GB（通用型 n4）  
I/O 优化：I/O 优化实例  
网络：带宽 2Mbps（专有网络）  
安全组：  
镜像：CentOS 7.3 64位  
系统盘：高效云盘（500 GB）  
购买量：1 年1 台  
配置费用：**¥2619.87**   省¥711.33  

- 代码仓库服务器  
包括GitLib
>计费方式：包年包月  
地域：华北3(华北 3 可用区 A)    
镜像：镜像Gitlab代码托管平台系统（CentOS7.0 64位）    
规格：云服务器2 核 4GB  
网络：1M带宽（专有网络)    
购买量：1 年1 台    
配置费用：**¥2813.57**     

开发测试环境总需： ¥2619.87 + ¥2813.57 = **¥5433.44 / 年**
